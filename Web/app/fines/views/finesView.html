<link rel="stylesheet" href="../../../../content/materialDesignComponents.css">
<link rel="stylesheet" href="/content/feed.css">

<div class="" ng-controller="Fines as fc">
    <div ng-include="'common/navBar.html'"></div>
    <ol class="breadcrumb">
        <li><a href="#Fines"><i class="fa fa-home"></i></a>
        </li>
        <li class="active">News Feed</li>
    </ol>
    <!--<div ng-include="'common/common-imports.html'"></div>-->

    <div class="col-sm-6 center">
        <center>
            <div class="fine-buttons">
                <div class="fine-button" id="icon-gift" ng-bootbox-title="Award Fine" ng-bootbox-custom-dialog="Award a fine" ng-bootbox-custom-dialog-template="app/fines/views/modals/awardFine.tpl.html"
                                                        ng-bootbox-options="vm.dialogOptions">
                    <div class="glyphicon glyphicon-gift fine-button-icon"></div>
                    <div class="fine-button-title">Award Fine</div>
                </div>
                <div class="fine-button" id="icon-glass" ng-bootbox-title="Pay fines" ng-bootbox-custom-dialog="Pay fines" ng-bootbox-custom-dialog-template="app/fines/views/modals/payFine.tpl.html">
                    <div class="glyphicon glyphicon-glass fine-button-icon"></div>
                    <div class="fine-button-title">Pay Fine</div>
                </div>
            </div>
        </center>

        <div>
            <!-- New Fines -->

            <div class="feedCard">

                    <md-list>
                            <md-card class="md-3-line" ng-repeat="fine in fines | orderBy:'AwardedDate':true | limitTo: 10">

                                    <div class="md-card-content" ng-if="fine.IsPaid == false">
                                        <div class="col-sm-2">
                                            <img ng-src="{{fine.UserImage}}?{{$index}}" class="face" alt="{{fine.ReceiverDisplayName}}">
                                        </div>
                                        <div class="col-sm-10 card-content">
                                            <a id="user-statistics-link"
                                               ng-bootbox-title="User Statistics"
                                               ng-bootbox-custom-dialog="User Statistics"
                                               ng-bootbox-custom-dialog-template="app/fines/views/modals/userStatistics.tpl.html"
                                               id="user-name">
                                                {{fine.ReceiverDisplayName}}
                                            </a> has received a fine
                                            <div class="feed-data" id="reason">for {{fine.Reason}}</div>
                                            <div class="other">
                                                <span id="platform">via {{fine.Platform || 'Web front end'}} </span>
                                                <span id="award">from <a id="awarder">{{fine.IssuerDisplayName}}</a></span>
                                            </div>
                                            <div class="md-actions" layout="row" layout-align="end center">
                                                <md-button aria-label="Second"><span class="glyphicon glyphicon-ok"/></md-button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="md-card-content"  ng-if="fine.IsPaid == true">
                                        <div class="col-sm-2">
                                            <img ng-src="{{fine.UserImage}}?{{$index}}" class="face" alt="{{fine.ReceiverDisplayName}}">
                                        </div>
                                        <div class="col-sm-10 card-content">
                                            <a id="user-statistics-link"
                                               ng-bootbox-title="User Statistics"
                                               ng-bootbox-custom-dialog="User Statistics"
                                               ng-bootbox-custom-dialog-template="app/fines/views/modals/userStatistics.tpl.html"
                                               id="user-name">
                                                {{fine.ReceiverDisplayName}} </a> has paid {{fine.TotalPaid}} fines
                                            <img class="photo" src="{{fine.PaymentImage}}"/>

                                            <div class="md-actions" layout="row" layout-align="end center">
                                                <md-button aria-label="Second"><span id="like" class="glyphicon glyphicon-thumbs-up"/></md-button>
                                                <md-button aria-label="Second"><span id="dislike" class="glyphicon glyphicon-thumbs-down"/></md-button>
                                            </div>
                                        </div>
                                        <!--

                                        <div class="payment-action"><div id="like" class="glyphicon glyphicon-thumbs-up"/></div>
                                        <div class="payment-action"><div id="dislike" class="glyphicon glyphicon-thumbs-down"/></div>-->
                                    </div>
                                    <md-divider md-inset></md-divider>
                            </md-card>
                    </md-list>
            </div>


            </div>
        </div>

    </div>